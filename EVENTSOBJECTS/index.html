<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TASK MANAGER</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <h1>MY TO-DO TASK MANAGER</h1>
    <button id="add-task-btn">ADD TASK</button>
    <button id="del-task-btn">DELETE TASK</button>
    <button id="show-task-btn">SHOW ALL TASKS</button>

    <div id="add-container" style="display: none">
      <label for="task-no">TASK NO </label>
      <input type="number" name="task-no" min="1" id="task-no" /><br />
      <label for="task-name">TASK-NAME </label>
      <input type="text" name="task-name" id="task-name" /><br />
      <label for="task-date">TASK-DATE </label>
      <input type="date" name="task-date" id="task-date" /><br />
      <button id="s1">Submit</button>
      <input
        id="cancel"
        type="button"
        value="Cancel"
        onclick="HideContainer('add-container','add-task-btn')"
      />
    </div>

    <div id="del-container" style="display: none">
      <label for="del-task-no">TASK NO: </label>
      <input type="number" name="task-no" min="1" id="del-task-no" /><br />
      <button id="d1">Delete</button>
    </div>

    <div id="show-container" style="display: none">
      <h4 id="tasks-to-do" style="display: none">TASKS TO DO</h4>
      <p id="show-tasks"></p>
      <button
        id="close"
        onclick="HideContainer('show-container','show-task-btn')"
      >
        Close
      </button>
    </div>

    <script>
      const b1 = document.getElementById("add-task-btn");
      const b2 = document.getElementById("del-task-btn");
      const b3 = document.getElementById("show-task-btn");
      const inputArray = [];
      const s1 = document.getElementById("s1");
      const d1 = document.getElementById("d1");

      //add task functions

      b1.addEventListener("click", function onClick() {
        ViewContainer("add-container", "add-task-btn");
        HideContainer("show-container", "show-task-btn");
        HideContainer("del-container", "del-task-btn");
      });

      s1.addEventListener("click", function onClick() {
        let taskno = document.getElementById("task-no").value;
        let taskname = document.getElementById("task-name").value;
        let taskdate = document.getElementById("task-date").value;

        const object1 = {
          TaskNo: taskno,
          TaskName: taskname,
          TaskDate: taskdate,
        };

        inputArray.push(object1);

        alert(
          "YOUR TASK -" + taskname + "- DATED -" + taskdate + "- WAS CREATED"
        );

        HideContainer("add-container", "add-task-btn");

        document.getElementById("task-no").value = "";
        document.getElementById("task-name").value = "";
        document.getElementById("task-date").value = "";
      });

      // Displaying the tasks in table format

      b3.addEventListener("click", function onClick() {
        ViewContainer("show-container", "show-task-btn");
        HideContainer("add-container", "add-task-btn");
        HideContainer("del-container", "del-task-btn");

        document.getElementById("tasks-to-do").style.display = "block";
        let showTasks = document.getElementById("show-tasks");
        showTasks.innerHTML = "";
        for (let i = 0; i < inputArray.length; i++) {
          showTasks.innerHTML +=
            "<table border='1'><tr><td>" +
            inputArray[i].TaskNo +
            "</td><td>" +
            inputArray[i].TaskName +
            "</td><td>" +
            inputArray[i].TaskDate +
            "</td></tr></table>";
        }
      });

      //Delete task Button
      b2.addEventListener("click", function onClick() {
        ViewContainer("del-container", "del-task-btn");
        HideContainer("show-container", "show-task-btn");
        HideContainer("add-container", "add-task-btn");
      });

      d1.addEventListener("click", function onClick() {
        let delTaskNo = document.getElementById("del-task-no").value;
        for (let i = 0; i < inputArray.length; i++) {
          if (inputArray[i].TaskNo == delTaskNo) {
            inputArray.splice(i, 1);
            alert("TASK NO " + delTaskNo + " WAS DELETED");
            break;
          }
        }
        HideContainer("del-container", "del-task-btn");
        document.getElementById("del-task-no").value = "";
      });

      function HideContainer(boxid, btnid) {
        let box = document.getElementById(boxid);
        let btn = document.getElementById(btnid);
        box.style.display = "none";
        btn.style.backgroundColor = "";
        btn.style.color = "";
      }

      function ViewContainer(boxid, btnid) {
        let box = document.getElementById(boxid);
        let btn = document.getElementById(btnid);
        box.style.display = "block";
        btn.style.backgroundColor = "green";
        btn.style.color = "white";
      }
    </script>
  </body>
</html>
